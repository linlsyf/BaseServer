!function webpackUniversalModuleDefinition(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.site=e():(t.__WEBPACK_GLOBAL__=t.__WEBPACK_GLOBAL__||{},t.__WEBPACK_GLOBAL__.site=e())}("undefined"!=typeof self?self:this,function(){return o={},i.m=n={127:function(t,e,n){"use strict";n.r(e);n(128)},128:function(t,e,n){var o=n(64),i=n(4),r=n(129),a=n(141),s=n(143);if("undefined"!=typeof window){window.jzSite={lazyLoad:s};var u=window.jzModule||(window.jzModule={});u.Module=o,u.SiteModule=i,a.install(u),Object.assign(u,r)}},129:function(t,e,n){var o=n(4),i=n(130),r=n(132),a=n(133),s=n(134),u=n(135),l=n(136),c=n(139),f=n(140);t.exports=e={SiteFormModule:i,OnlineMapModule:r,CustomSearchModule:a,CustomSearchResultModule:s,TabModule:u,TabPackModule:l,NewsListModule:c,SimpleTextModule:f},e.getSiteModuleClass=function(t){switch(t.style){case 18:return r;case 113:return a;case 114:return s;case 116:return c;case 32:return t.isVue?i:o;case 29:return t.isVue?u:o;case 110:return t.isVue?l:o}return o}},130:function(t,e,n){(function(Y){function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e,n,o,i,r,a){try{var s=t[r](a),u=s.value}catch(l){return void n(l)}s.done?e(u):Promise.resolve(u).then(o,i)}function i(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function e(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function n(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function r(t){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var s=n(4),u=!1;Y.exports=function(){function t(){return function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e(this,r(t).apply(this,arguments))}return function n(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(t,s),function o(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}(t,[{key:"init",value:function(){if(this.initSubmit(),this.initLoginUrl(),this.initValidation(),this.fixLowIePlaceholder(),u||(u=!0,Site.logDog(201020,1)),!_manageMode&&this.options.formId){for(var t=this.$el.find(".form_item"),e=this.options.contentList,n=0,o=0;o<e.length;o++){var i=e[o];if(!i.hide){t.eq(n);switch(n++,i.type){case 6:this.initDatepicker(i);break;case 7:this.initFileUpload(i);break;case 8:this.initPhoneValidateCode(i);break;case 11:this.initAddress(i)}}}this.initRules(this.options.ruleList,e)}}},{key:"initRules",value:function(){var t=0<arguments.length&&arguments[0]!==undefined?arguments[0]:[],a=1<arguments.length?arguments[1]:undefined;if(0!==t.length){var e=Site.checkRuleList(t,a),s=e.enableRuleList,u=e.hasRuleItemIds,l=_manageMode?this.options.module.id:this.options.moduleId;this.$el.find(".form_item").each(function(t,e){var n=$(e),o=Number(n.data("formid"));if(u.includes(o)){var i=Number(n.data("type")),r=s.filter(function(t){return t.contentId===o});Site.initRuleEvent(n,i,r,a,s,l)}})}}},{key:"showMsg",value:function(t){if(this.options.isPack)Fai.ing(t,!0);else{if(!this.$msgContainer){var e=$('<div class="submit_msg"><div class="g_tip"></div></div>');this.$el.find(".item_Submit_wrap").before(e),this.$msgContainer=e.find(".g_tip")}this.$msgContainer.html(t);var n=_manageMode?this.options.module.id:this.options.moduleId;jzModule.SiteFormModule.find(n).resetXPackModuleAutoHeight()}}},{key:"hideMsg",value:function(){this.$msgContainer&&(this.$msgContainer.parent().remove(),this.$msgContainer=null)}},{key:"initLoginUrl",value:function(){var t=this.$el.find(".login_url");t.length&&t.attr("href","login.jsp?url=".concat(Fai.encodeUrl(Fai.top.location.pathname+Fai.top.location.search)))}},{key:"initValidation",value:function(){var t=this;this.$el.find(".validatecode_img, .validatecode_tip").click(function(){t.refreshValidation()})}},{key:"initPhoneValidateCode",value:function(a){var s=this,u=this.$el.find(".item_".concat(a.id)),n=!0;u.find(".phone_number").off("input").on("input",function(t){var e=t.target.value;n=11!=e.length?(u.find(".J_validatorCodeBtn").addClass("phone_validator_code_btn__disabled"),!0):(u.find(".J_validatorCodeBtn").removeClass("phone_validator_code_btn__disabled"),!1)});var t=function(){var t=function e(s){return function(){var t=this,a=arguments;return new Promise(function(e,n){var o=s.apply(t,a);function i(t){l(o,e,n,i,r,"next",t)}function r(t){l(o,e,n,i,r,"throw",t)}i(undefined)})}}(regeneratorRuntime.mark(function r(){var o,e,n,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if((o=$.trim(u.find(".phone_number").val()))&&Fai.isMobile(o)){t.next=4;break}return s.showMsg(Fai.format(LS.site_newMobileNumRegular,11)),t.abrupt("return");case 4:if(e=function(e){return new Promise(function(n){var t={formId:s.options.formId,contentId:a.id,validateCode:e,mobile:o};$.ajax({type:"POST",url:"ajax/siteForm_h.jsp?cmd=sendValidateCode",data:t,error:function(){n()},success:function(t){var e=$.parseJSON(t);n(e)}})})},a.smsImgVerify)return t.next=8,Site.createCaptchaPopup(e);t.next=11;break;case 8:t.t0=t.sent,t.next=14;break;case 11:return t.next=13,e();case 13:t.t0=t.sent;case 14:if(n=t.t0,a.smsImgVerify||(n&&n.success?Fai.ing(LS.memberDialogSendMobileCode,!0):Fai.ing(n&&n.msg?n.msg:LS.js_argsError)),n&&n.success)return i=function(){return new Promise(function(t){var e=60,n=setInterval(function(){e--,u.find(".J_validatorCodeBtn").html(Fai.format(LS.reacquireMemCode,e)),e<1&&(clearInterval(n),t())},1e3)})},t.next=20,i();t.next=20;break;case 20:case"end":return t.stop()}},r)}));return function(){return t.apply(this,arguments)}}(),e=!1;u.find(".J_validatorCodeBtn").off("click").on("click",function(){_manageMode?Site.Message.warning("管理态不支持获取验证码"):e||n||(e=!0,t().then(function(){u.find(".J_validatorCodeBtn").html(LS.memberDialogAcquireCode),e=!1}))})}},{key:"initDatepicker",value:function(t){var e=this.$el.find(".item_".concat(t.id));this._initDatepicker(t,e,!1),1==t.dateSetting.type&&this._initDatepicker(t,e,!0)}},{key:"_initDatepicker",value:function(t,e,u){var l=t.dateSetting;-1<$.inArray(7,l.banSingleDateList)&&-1===$.inArray(0,l.banSingleDateList)&&l.banSingleDateList.push(0);var c=e.find(".start_time"),f=e.find(".end_time"),n=u?f:c,o="1900:"+(parseInt($.format.date(new Date,"yyyy"))+10),d=0==l.type&&1==l.accuracy,i=new Date,r=new Date(i.getFullYear(),i.getMonth(),i.getDate()),a=v(r)[0],m=l.od.unSelectDay?l.od.unSelectDay.concat([]).sort(function(t,e){return t-e}):[],s=[];1==l.ot.t&&(s=l.ot.unSelectTime.slice());for(var h=0,p=1==l.banPassDate?r:new Date(1900,0,1),g=0;g<24;g++)if(-1==$.inArray(g,s)){h=g;break}function v(t){var e=!0,n=t.getDay(),o=t.getTime();return 0==l.od.t?[!0,""]:(1==l.banAll&&(e=!1),0!=n&&6!=n||(e=1!=l.banHoliday),l.banSingleDateList.length&&1==l.od.t&&-1<$.inArray(n,l.banSingleDateList)&&(e=!1),1==l.od.t&&-1<$.inArray(o,l.od.unSelectDay)&&(e=!1),1==l.od.t&&-1<$.inArray(o,l.od.openDay)&&(e=!0),[e,""])}n.datetimepicker("destroy").datetimepicker({dateFormat:"yy-mm-dd",changeYear:!0,changeMonth:!0,showButtonPanel:a,yearRange:o,zIndex:9033,hour:h,controlType:"fkControl",showMinute:!1,showTime:!1,hourText:"",hourAccuracy:!0,minDate:p,showTimepicker:d,autoChangeMonthYear:!1,beforeShow:function(t,e){e.dpDiv.addClass("fk-siteFormDatePicker fk-moduleFormDatePicker"),!u&&e.startDateNotLimit&&(e.settings.minDate=p,e.settings.maxDate=null,e.startDateNotLimit=!1)},afterShow:function(t,e){var n;u&&(n=new Date(c.val())).getTime()&&$.datepicker._selectToMonthYearDate("#"+t.id,e,n.getMonth(),n.getFullYear(),n.getDate())},onAfterUpdatePicker:function(t){var e=t.dpDiv.find(".ui-datepicker-today").find(".ui-state-default"),n=(new Date(t.currentYear,t.currentMonth,t.currentDay),0!=t.currentYear||0!=t.currentMonth||0!=t.currentDay);new Date(i.getFullYear(),i.getHours(),i.getDate());e.hasClass("ui-state-hover")&&!n?e.addClass("fk-todayDefaultStyle"):t.dpDiv.find(".ui-state-hover").removeClass("ui-state-hover")},beforeShowTime:function(t){return!(0<s.length&&-1<$.inArray(t,s))},beforeShowDay:function(t){return v(t)},onSelect:function(t,e){var n,o=t.replace(/-/g,"/"),i=new Date(o),r=new Date(i.getFullYear(),i.getMonth(),i.getDate()).getTime(),a={minDate:p,maxDate:null};if(u){if(u){for(var s=m.length;0<=s;s--)if(r>=m[s]){n=s;break}"number"==typeof n&&1==l.od.t&&(a.minDate=p.getTime()<m[n]?new Date(m[n]):p),e.startDateNotLimit=!1,a.maxDate=new Date(o),c.datetimepicker("option",a)}}else{if(1==l.banAll||1==l.banHoliday||0<m.length)for(s=0;s<365;s++)if(nextDay=new Date(r+864e5*s),!v(nextDay)[0]){a.maxDate=nextDay;break}e.startDateNotLimit=!0,a.minDate=new Date(o),f.datetimepicker("option",a)}d||(e.inline=!1)},onAfterSelect:function(t,e){e.inline||u||f.focus()}}),u&&f.off("click.openStart").on("click.openStart",function(t){c.focus()})}},{key:"initFileUpload",value:function(t){var u=this.$el.find(".item_".concat(t.id)),e=u.find(".upload_btn");if(_manageMode)e.click(function(){Fai.ing("当前为管理状态，文件上传无效。",!0)});else{var n="*.*;";t.isAllFile||(n=((t.dftl||"")+(t.cftl||"")).split(" ").filter(function(t){return t}).map(function(t){return"*.".concat(t,";")}).join(""));var o=t.size,i=50;Fai.top._oem?Fai.top._siteVer<=120&&(i=10):Fai.top._siteVer<=10&&(i=1),i<o&&(o=i);var r,a=e.attr("value"),s=.31*u.width(),l=this.$el.width();if(l<=400?161<(s=.95*(l-60))&&(s=161):s<111?s=111:161<s&&(s=161),Fai.isIE()){r=5,-1<navigator.userAgent.toLowerCase().indexOf("se 2.x")&&(r=6);var c={file_post_name:"Filedata",upload_url:"/ajax/upsiteimg_h.jsp",button_placeholder:e.get(0),file_size_limit:o+"MB",button_image_type:r,file_queue_limit:1,requeue_on_error:!1,button_height:"34",button_width:s-2,button_text:"<span class='fk_btText'>"+a+"</span>",button_text_style:".fk_btText{text-align:center; font-family: 微软雅黑; color: #666666;}",button_text_top_padding:8,post_params:{ctrl:"Filedata",app:21,type:0,isSiteForm:!0},file_types:n,file_dialog_complete_handler:function(t){this._allSuccess=!1,this.startUpload()},file_queue_error_handler:function(t,e,n){switch(e){case SWFUpload.QUEUE_ERROR.FILE_EXCEEDS_SIZE_LIMIT:Fai.ing(LS.siteFormSubmitCheckFileSizeErr,!0);break;case SWFUpload.QUEUE_ERROR.INVALID_FILETYPE:Fai.ing("不允许的文件类型",!0);break;case SWFUpload.QUEUE_ERROR.QUEUE_LIMIT_EXCEEDED:Fai.ing("一次只能上传一个文件",!0);break;default:Fai.ing("请重新选择文件上传。",!0)}},upload_success_handler:function(t,e){var n=jQuery.parseJSON(e);this._allSuccess=n.success,this._sysResult=n.msg,n.success?(Fai.ing(Fai.format(LS.siteFormSubmitFileUploadSucess,Fai.encodeHtml(t.name)),!0),g(n)):Fai.ing("文件"+t.name+"，"+n.msg)},upload_error_handler:function(t,e,n){-280==e?Fai.ing("文件取消成功",!1):-270==e?Fai.ing("已经存在名称为"+t.name+"的文件。",!0):Fai.ing("服务繁忙，文件"+t.name+"上传失败，请稍候重试。")},upload_complete_handler:function(t){t.filestatus==SWFUpload.FILE_STATUS.COMPLETE?setTimeout(function(){f.startUpload()},f.upload_delay):t.filestatus==SWFUpload.FILE_STATUS.ERROR&&Fai.ing("服务繁忙，文件"+t.name+"上传失败，请稍候重试。")},upload_start_handler:function(t){Fai.ing("读取文件准备上传",!1)},view_progress:function(t,e,n,o){Fai.ing("正在上传"+o+"%",!1)}},f=SWFUploadCreator.create(c)}else{var d=function d(){e.uploadify(m),e.css("width",s+2),e.on("click",function(){e.find("a")[0].click()})},m={auto:!0,fileTypeExts:n,multi:!0,fileSizeLimit:1024*o*1024,fileSplitSize:1024*o*1024,breakPoints:!0,isBurst:!1,saveInfoLocal:!1,showUploadedPercent:!0,showUploadedSize:!0,removeTimeout:9999999,post_params:{app:21,type:0,fileUploadLimit:o},getFileSizeUrl:"/ajax/advanceUpload.jsp?cmd=_getUploadSize",uploader:"/ajax/advanceUpload.jsp?cmd=_mobiupload",onUploadStart:function(t){$("#progressBody_"+t.id).remove(),$("#progressWrap_"+t.id).remove()},onUploadSuccess:function(t,e){var n=$.parseJSON(e);if(n.success){t.id;Fai.ing("文件: "+t.name+" 上传成功",!0),g(n)}else{t.id,n.msg;Fai.ing("文件:"+t.name+"，"+n.msg)}$("#progressBody_"+t.id).remove(),$("#progressWrap_"+t.id).remove()},onUploadError:function(t,e){$("#progressBody_"+t.id).remove(),$("#progressWrap_"+t.id).remove(),Fai.ing("网络繁忙，文件:"+t.name+"上传失败，请稍后重试")}};if("function"==typeof $.fn.uploadify)d();else{var h=document.documentElement||document.body,p=document.createElement("script");p.src=this.options.srcjQueryUploadPath,p.type="text/javascript",h.appendChild(p),p.onload=function(){d()}}}}function g(t){var e=t.id,n=t.name,o=t.type,i=(t.size,t.path,t.createTime,t.groupId,t.fileId),r=t.width||0,a=t.height||0,s=(o=t.type||0,u.find(".file_name"));u.find(".limit_tip").hide(),s.show(),s.html(n),s.attr("_tmpFileId",e).attr("_tmpFileName",n).attr("title",n).attr("_fileId",i).attr("_width",r).attr("_height",a).attr("_type",o)}}},{key:"initAddress",value:function(t){var e=this.$el.find(".item_".concat(t.id)),r=this.options.lcid,n=e.find(".select_province"),o=e.find(".select_city"),i=e.find(".select_county"),a=e.find(".none_item").eq(0).clone(),s="";function u(t){var e;2052!=r&&1028!=r&&(t+="En");for(var n=arguments.length,o=new Array(1<n?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];return(e=site_cityUtil)[t].apply(e,o)}u("getProvince").forEach(function(t){var e="",n="";n=t.cityInfo?(e=t.cityInfo[0],t.cityCode):(e=t.name,t.id);var o=u("simpleCityNameStr",e);s+='<option _name="'.concat(e,'" value="').concat(n,'">').concat(o,"</option>\n")}),n.append(s),n.change(function(){var t=u("getCities",n.val());i.html("").attr("disabled",!0),o.html("").removeAttr("disabled"),o.append(a.clone()),o.append(t.map(function(t){return'<option _name="'.concat(t.name,'" value="').concat(t.id,'">').concat(t.name,"</option>\n")}))}),o.change(function(){var t=u("getCounty",o.val());i.html("").removeAttr("disabled"),t.length?(i.show().append(a.clone()),i.append(t.map(function(t){return'<option _name="'.concat(t.name,'" value="').concat(t.id,'">').concat(t.name,"</option>\n")}))):i.hide()})}},{key:"refreshValidation",value:function(){this.$el.find(".validatecode_img").attr("src","validateCode.jsp?".concat(parseInt(1e3*Math.random()),"&vCodeId=").concat(this.options.id).concat(this.options.formId))}},{key:"fixLowIePlaceholder",value:function(){(Fai.isIE6()||Fai.isIE7()||Fai.isIE8()||Fai.isIE9())&&(this.$el.find(".fk_lowIEPlaceholderStyle").remove(),this.$el.find("input, textarea").each(function(t,e){var n=$(e),o=n.attr("placeholder");o&&(n.removeAttr("placeholder"),n.defaultValue||n.val(o).addClass("phcolor"),n.focus(function(){n.val()==o&&n.val("")}),n.blur(function(){""==n.val()&&n.val(o).addClass("phcolor")}),n.keydown(function(){n.removeClass("phcolor")}))}))}},{key:"initSubmit",value:function(){var t=this;this.$el.find(".submit .l, .submit .m, .submit .r").click(function(){return t.submit()})}},{key:"submit",value:function(){var o=this;if(_manageMode)Fai.ing("当前为管理状态，提交无效。",!0);else if(_siteDemo)Fai.ing("当前为“模板网站”，请先“复制网站”再进行提交。",!0);else{if(this.options.permission&&0==this.options.buddyId){var t="login.jsp?url=".concat(Fai.encodeUrl(Fai.top.location.pathname+Fai.top.location.search));return this.showMsg("".concat(LS.siteFormSubmitNotLogin,'<a href="').concat(t,'">').concat(LS.login,"</a>").concat(LS.period))}if(this.options.isJuly3FreeUser)return Site.logDog(200964,8),void Fai.ing("免费版暂不支持此功能");for(var e=[],n=[],i=this.options.contentList,r=this.$el.find(".form_item"),a=[],s=0,u=0;u<i.length;u++){var l=i[u];if(!l.hide){var c=r.eq(s);if(c.is(":visible")){s++;var f={id:l.id,type:l.type,must:l.must};switch(l.type){case 0:var d=0,m=100,h=$.parseJSON(l.wordLimit)||{};1===h.o&&(d=h.i,m=h.a);var p=$.trim(c.find("input").val());if(l.must&&""==p)return this.showMsg(Fai.format(LS.siteFormSubmitInputIsEmpty,Fai.encodeHtml(l.name)));if(p.length>m)return this.showMsg(Fai.format(LS.siteFormSubmitInputMaxLength,Fai.encodeHtml(l.name),m));if(l.must&&p.length<d)return this.showMsg(Fai.format(LS.siteFormSubmitInputMinLength,Fai.encodeHtml(l.name),d));f.val=p||"";break;case 1:var g=$.trim(c.find("textarea").val());if(l.must&&""==g)return this.showMsg(Fai.format(LS.siteFormSubmitInputIsEmpty,Fai.encodeHtml(l.name)));if(1e3<g.length)return this.showMsg(Fai.format(LS.siteFormSubmitInputMaxLength,Fai.encodeHtml(l.name),1e3));f.val=g||"";break;case 5:break;case 9:var v=$.trim(c.find("input").val());if(l.must&&""==v)return this.showMsg(Fai.format(LS.siteFormSubmitInputIsEmpty,Fai.encodeHtml(l.name)));if(v&&!Fai.isEmail(v))return this.showMsg(Fai.format(LS.memberSignupUserAddItemCorrect,Fai.encodeHtml(l.name)));f.val=v||"";break;case 10:var b=$.trim(c.find("input").val());if(l.must&&""==b)return this.showMsg(Fai.format(LS.siteFormSubmitInputIsEmpty,Fai.encodeHtml(l.name)));if(b&&!Fai.isCardNo(b))return this.showMsg(Fai.format(LS.memberSignupUserAddItemCorrect,Fai.encodeHtml(l.name)));f.val=b||"";break;case 7:var y=c.find(".file_name").attr("_fileid"),_=c.find(".file_name").attr("_tmpfileid"),w=c.find(".file_name").attr("_tmpfilename");if(l.must&&!y)return this.showMsg(Fai.format(LS.siteFormSubmitCheckHasFileUpload,Fai.encodeHtml(l.name)));c.find(".file_name").attr("_type"),c.find(".file_name").attr("_width"),c.find(".file_name").attr("_height");y?(e.push({fileId:y,tmpFileId:_,tmpFileName:w}),f.val=y):f.val="";break;case 2:var S=$.trim(c.find("input:checked").val());if(l.must&&""==S)return this.showMsg(Fai.format(LS.siteFormSubmitCheckIsEmpty,Fai.encodeHtml(l.name)));f.val=S;break;case 3:var k=Array.from(c.find("input:checked")).map(function(t){return t.value});if(l.must&&0==k.length)return this.showMsg(Fai.format(LS.siteFormSubmitCheckIsEmpty,Fai.encodeHtml(l.name)));f.val=k.join("\n");break;case 4:var C=$.trim(c.find("select").val());if("none"==C&&(C=""),l.must&&""==C)return this.showMsg(Fai.format(LS.siteFormSubmitCheckIsEmpty,Fai.encodeHtml(l.name)));f.val=C;break;case 11:var T=$.trim(c.find(".select_province :checked").attr("_name")),F=$.trim(c.find(".select_city :checked").attr("_name")),x=$.trim(c.find(".select_county :checked").attr("_name"));if(l.must&&(!T||!F))return this.showMsg(Fai.format(LS.siteFormSubmitCheckIsEmpty,Fai.encodeHtml(l.name)));f.val=T+F+x;break;case 8:var M=c.find("select").val(),I=$.trim(c.find(".phone_number").val()),P=(l.phoneNumberLength||"7-11").split("-"),B=P[0],O=P[1]||B,L=$.trim(c.find(".phone_validate_code").val()),E=l.smsVerify&&Y.allowedFormSms&&l.smsImgVerify;if(l.must&&""==I)return this.showMsg(Fai.format(LS.siteFormSubmitInputIsEmpty,Fai.encodeHtml(l.name)));if(I&&!Fai.isLimitedRangeNationMobile(I,B,O))return this.showMsg(Fai.format(LS.site_newMobileNumRegular,P));if(l.must&&E&&""==L)return this.showMsg(Fai.format(LS.msgBoardInputValidateCode));f.val=M?M+I:I,L&&a.push({id:l.id,phoneValidateCode:L});break;case 6:var A=(l.dateSetting||{}).type||0,H=$.trim(c.find(".start_time").val()),j=$.trim(c.find(".end_time").val());if(l.must&&""==H)return this.showMsg(Fai.format(LS.siteFormSubmitCheckIsEmpty,Fai.encodeHtml(l.name)));if(f.val=H,1==A){if(l.must&&""==j)return this.showMsg(Fai.format(LS.siteFormSubmitCheckIsEmpty,Fai.encodeHtml(l.name)));f.val+=" 至 ".concat(j)}}n.push(f)}else s++}}var D="";if(this.options.validation){var N=this.$el.find(".item_ValidateCode_wrap");if(""==(D=$.trim(N.find("input").val())))return this.showMsg(Fai.format(LS.siteFormSubmitInputIsEmpty,N.find(".title").text()))}if(!this.isReCommit){this.isReCommit=!0,this.showMsg(LS.siteFormSubmitIng);var z=document.location.href;500<z.length&&(z=z.substring(0,500)),Fai.top.pageName.endsWith(" - ")&&(Fai.top.pageName=Fai.top.pageName.substring(0,Fai.top.pageName.lastIndexOf(" - ")));var J={pageUrl:z,pageName:"电脑网站-"+Fai.top.pageName};$.ajax({type:"post",url:Site.genAjaxUrl("siteForm_h.jsp"),data:"cmd=addSubmit&formId=".concat(this.options.formId,"&submitContentList=").concat(Fai.encodeUrl($.toJSON(n)),"&vCodeId=").concat(this.options.moduleId).concat(this.options.formId,"&validateCode=").concat(D,"&tmpFileList=").concat(Fai.encodeUrl($.toJSON(e)),"&submitOrigin=").concat(Fai.encodeUrl($.toJSON(J)),"&phoneValidateCodes=").concat(Fai.encodeUrl($.toJSON(a))),error:function(){o.isReCommit=!1;var t=Site.getDialogContent(!1,Fai.format(LS.siteFormSubmitError));Site.popupBox({htmlContent:t,width:205,height:78})},success:function(t){if(o.isReCommit=!1,(t=JSON.parse(t)).success){if(o.options.openOnlinePay&&o.options.allowOnlinePay)return Site.logDog(201217,5),void o.handleOnLinePay(t);o.handleSubmitSuccess()}else{if(t.hasFW)return o.showMsg(t.msg);if(-4==t.rt)return o.showMsg(LS.siteFormSubmitCountLimit);if(-7==t.rt)return o.showMsg(LS.siteImgFull);if(-8==t.rt)return o.showMsg(t.msg);if(-20==t.rt)return o.showMsg(t.msg);if(-401==t.rt)return o.refreshValidation(),o.$el.find(".item_validatecode input").val(""),o.showMsg(LS.siteFormSubmitValidateCodeErr);if(-302==t.rt)return o.showMsg(LS.siteFormSubmitNotLogin+LS.login+LS.period);if(-601==t.rt)return o.showMsg(t.msg);if(-28==t.rt){o.hideMsg();var e=[];e.push("<div style='width: 80px; height:80px; border-radius:50%; border: 4px solid gray; border: 4px solid gray; margin: 0 auto; padding: 0; position: relative; top:25px; box-sizing: content-box; border-color: #F8BB86;'>"),e.push("<div style='animation: pulseWarningIns 0.75s infinite alternate; -webkit-animation: pulseWarningIns 0.75s infinite alternate;'>"),e.push("<span style='position: absolute; width: 5px; height: 47px; left: 50%; top: 10px; webkit-border-radius: 2px; border-radius: 2px; margin-left: -2px; background-color: #F8BB86;'></span>"),e.push("<span style='position: absolute; width: 7px; height: 7px; -webkit-border-radius: 50%; border-radius: 50%; margin-left: -3px; left: 50%; bottom: 10px; background-color: #F8BB86;'></span>"),e.push("</div>"),e.push("</div>"),e.push("<div style='color:#333; font-size:16px; padding-top: 48px; text-align:center;'>"+LS.hasSubmitThisSiteForm+"</div>"),Site.popupBox({htmlContent:e.join(""),width:367,height:225}),setTimeout(function(){document.location.reload()},2e3)}else{if(-1e3==t.rt)return o.showMsg(t.msg);o.hideMsg();var n=Site.getDialogContent(!1,Fai.format(LS.siteFormSubmitError));Site.popupBox({htmlContent:n,width:205,height:78})}if(t.needCode)return o.$el.find(".item_ValidateCode_wrap").show(),o.showMsg(t.msg)}}})}}}},{key:"handleSubmitSuccess",value:function(){var n=this;this.hideMsg();var t=[],e=LS.siteFormSubmitOk;this.options.showForm&&this.options.buddyId&&(e=this.options.siteOpenFormSubmitOk),t.push("<div class='voteSuccessPanel sweet-alert' style='margin-top:20px; height:180px;'>"),t.push("       <div class='sa-icon sa-success animate' style='margin-top:0;'>"),t.push("           <span class='sa-line sa-tip animateSuccessTip'></span>"),t.push("           <span class='sa-line sa-long animateSuccessLong'></span>"),t.push("           <div class='sa-placeholder'></div>"),t.push("           <div class='sa-fix'></div>"),t.push("       </div>"),t.push("       <div class='voteSuccessTitle'>"+e+"</div>"),t.push("</div>"),Site.popupBox({htmlContent:t.join(""),width:367,height:225,autoClose:3e3}),setTimeout(function(){var t=n.options.jumpToUrl,e=t.includes("Site.fileDownload");location.href=t||"",e&&setTimeout(function(){document.location.reload()},1e3)},3e3)}},{key:"handleOnLinePay",value:function(t){var o=this,i=t.id,e={cmd:"getNativePayUrl",formId:this.options.formId,siteFormSubmitId:i};$.ajax({type:"post",url:Site.genAjaxUrl("siteForm_h.jsp"),data:e,error:function(){var t=Site.getDialogContent(!1,Fai.format(LS.siteFormSubmitError));Site.popupBox({htmlContent:t,width:205,height:78})},success:function(t){var e=JSON.parse(t);if(e.success&&17==e.payMode)Site.logDog(201217,6),o.showQrcode(e.url),o.payTimer=setInterval(o.checkPayStatus(i),1e3);else{var n=Site.getDialogContent(!1,Fai.format(LS.siteFormSubmitError));Site.popupBox({htmlContent:n,width:205,height:78})}}})}},{key:"checkPayStatus",value:function(e){var n=this;return function(){var t={cmd:"checkSiteFormSubmitStatue",siteFormSubmitId:e};$.ajax({type:"post",url:Site.genAjaxUrl("siteForm_h.jsp"),data:t,error:function(){Fai.top.ing("网络错误")},success:function(t){JSON.parse(t).success&&(Site.logDog(201217,8),clearInterval(n.payTimer),Fai.top.$("html").css("overflow",""),Fai.top.$("#formPayCodeBox").remove(),n.hideMsg(),n.handleSubmitSuccess())}})}}},{key:"showQrcode",value:function(t){var e=this,n="/qrCode.jsp?cmd=wxPayQrCode&&url=".concat(t),o='\n\t\t\t<div id="formPayCodeBox" class="site_form_pay_wrap">\n\t\t\t\t<div class="form_pay_qrcode" style="width: '.concat(860,"px; height: ").concat(550,'px;">\n\t\t\t\t\t<div class="form_pay_qrcode_top">\n\t\t\t\t\t\t<div id="siteFormClosePay" class="site_form_close"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="wxpay_content">\n\t\t\t\t\t\t<div class="wxpay_QrCode_box">\n\t\t\t\t\t\t\t<p class="wxpay_QrCode_title">微信支付</p>\n\t\t\t\t\t\t\t<div class="wxpay_QrCode_imgBox">\n\t\t\t\t\t\t\t\t<img class="wxpay_QrCode_img" src="').concat(n,'">\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="wxpay_QrCode_tipBox">\n\t\t\t\t\t\t\t\t<div class="wxpay_QrCode_tipImg"></div>\n\t\t\t\t\t\t\t\t<div class="wxpayQrCodeText">\n\t\t\t\t\t\t\t\t\t请使用微信扫一扫<br>扫描二维码支付\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="wx_guard_img"></div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t');Fai.top.$(o).appendTo("body"),Fai.top.$("html").css("overflow","hidden"),Fai.top.$("#siteFormClosePay").click(function(){Site.logDog(201217,7),Fai.top.$("html").css("overflow",""),Fai.top.$("#formPayCodeBox").remove(),clearInterval(e.payTimer),e.hideMsg()})}}]),t}()}).call(this,n(131)(t))},131:function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},132:function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function a(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function n(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var l=n(4);t.exports=function(){function w(){return function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,w),a(this,s(w).apply(this,arguments))}return function n(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(w,l),function o(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}(w,[{key:"init",value:function(){var t=this;this.initData();var e=this.isBaiduMap?this.BAI_DU_SCRIPT:this.GOOGLE_SCRIPT;Site.checkScriptLoad(e)?this.initMapJs():$(window).load(function(){Site.demandLoadJs(e,function(){return t.initMapJs()})})}},{key:"getMapBdPos",value:function(){return this.module.prop1}},{key:"getMapInfo",value:function(){return this.module.prop3}},{key:"getType",value:function(){return this.module.prop4}},{key:"getMapGooglePos",value:function(){return this.module.prop5}},{key:"getMultiAddress",value:function(){return this.module.blob0.multiAddress}},{key:"getBdStyle",value:function(){return this.module.blob0.bds}},{key:"initData",value:function(){this.BAI_DU_SCRIPT="https://api.map.baidu.com/api?v=2.0&ak=BPPrdn0rN6iz2l1o97PohYt2Q7aOT9lW",this.GOOGLE_SCRIPT="https://maps.googleapis.com/maps/api/js?key=AIzaSyAPCtjvzxk3LKfIlLG164mw2jD-Slt3gK8&language=en-US",this.BAI_DU_TYPE=1,this.GOOGLE_TYPE=2,this.isBaiduMap=(void 0===this.getType()?1:this.getType())==this.BAI_DU_TYPE,this.baiduContainerId=this.options.baiduContainerId||"baidu_map_"+this.moduleId,this.googleContainerId=this.options.googleContainerId||"google_map_"+this.moduleId}},{key:"initMapJs",value:function(){this.isBaiduMap?(w.ComplexCustomOverlay||(w.ComplexCustomOverlay=this.addComplexCustomOverlay()),this.initBaiDuMap(),this.initVisitModeEvent()):this.googleMapInitial()}},{key:"initBaiDuMap",value:function(){var u,t=this.baiduContainerId,l=(this.getMapBdPos(),this.getMapInfo(),this.getMultiAddress()),e=this.getBdStyle(),c=this;(u=this.map=new BMap.Map(t)).enablePinchToZoom(),u.enableDoubleClickZoom(),Fai.top._manageMode||u.enableScrollWheelZoom(!0);var n=new BMap.NavigationControl({anchor:BMAP_ANCHOR_TOP_RIGHT});if(u.addControl(n),this.refreshMarker(),1!=e){var f=function f(){var t=$("#"+c.baiduContainerId),e=t.find(".map_msg_box"),n=e.offset(),o=t.offset();if(18<=o.top-n.top||18<=o.left-n.left||o.left+t.width()+18<n.left+e.innerWidth()){var i,r,a,s=[];l.forEach(function(t){s.push(new BMap.Point(t.x,t.y))}),r=(i=u.getViewport(s)).zoom,a=i.center,u.centerAndZoom(a,r-1)}u.removeEventListener("tilesloaded",f)};c.fixAddEventListener(u,"tilesloaded",f)}else{var s=function s(){var t,e,n,o,i=$("#module"+c.moduleId),r=i.find(".multi_panel"),a=i.find(".map_msg_box");r.length<1||a.length<1||(t=a.offset(),e=r.offset(),n=r.width(),0<(o=e.left+n-t.left)&&c.map.panBy(o,0,{noAnimation:"none"}),u.removeEventListener("tilesloaded",s))};c.fixAddEventListener(u,"tilesloaded",s)}}},{key:"refreshMarker",value:function(t,e,n){var d,o,i,r=this.baiduContainerId,a=(t||this.getMapBdPos(),e||this.getMapInfo(),this.getBdStyle()),m=this.getMultiAddress(),s=1==a,h=this;(d=this.map).clearOverlays(),o=new BMap.Point(m[0].x,m[0].y);for(var u=[],l=[],c=0;c<m.length;c++){var f,p,g,v=new BMap.Point(m[c].x,m[c].y);if(s&&0<c)break;l.push(v),f=new BMap.Icon(Fai.top._resRoot+"/image/onlineMap/"+(1<m.length&&!s?c+1:"multi_only")+".png?v=201809101152",new BMap.Size(22,29),{anchor:new BMap.Size(10,25)}),p=new BMap.Marker(v,{icon:f});var b="";m[c].an&&(b+='<div class="address_name">'+Fai.encodeHtml(m[c].an)+"</div>"),m[c].da&&(b+='<div class="address_detail address_other_word">'+Fai.encodeHtml(m[c].da)+"</div>"),m[c].oi&&(b+='<div class="address_other_info address_other_word">'+Fai.encodeHtml(m[c].oi)+"</div>"),u[c]=g=new w.ComplexCustomOverlay({point:v,content:'<div class="map_msg_box__msg">'+b+"</div>",boxClass:"map_msg_box J_msg_box__"+c,arrowClass:"map_msg_box__arrow",zIndex:1,offset:{x:0,y:-35}}),d.addOverlay(p),0==c&&d.addOverlay(g),function(n,e,o,i){h.fixAddEventListener(o,"click",function(t){u.forEach(function(t,e){e!=n&&d.removeOverlay(t)}),d.addOverlay(e),d.addOverlay(o),d.panTo(i)})}(c,g,p,v)}if(h.fixAddEventListener(d,"resize",function(){_()}),i=$("#"+r),this.initMapEvent(d,i,void 0,o,void 0),1<m.length&&!s)this.setZoom(l,d);else{var y=new BMap.Point(m[0].x,m[0].y);d.centerAndZoom(y,m[0].z)}function _(){var t,e,n,o,i,r,a=$("#"+h.baiduContainerId),s=[];if(1!==h.getBdStyle())m.forEach(function(t){s.push(new BMap.Point(t.x,t.y))}),r=(o=d.getViewport(s)).center,i=o.zoom,d.centerAndZoom(r,i);else{s.push(new BMap.Point(m[0].x,m[0].y)),r=(o=d.getViewport(s)).center,i=o.zoom,d.centerAndZoom(r,i),e=(t=a.find(".map_msg_box")).offset();var u=a.parent().find(".multi_panel"),l=u.offset(),c=u.width(),f=l.left+c-e.left;0<f&&h.map.panBy(f,0,{noAnimation:"none"})}e=(t=a.find(".map_msg_box")).offset(),(18<=(n=a.offset()).top-e.top||18<=n.left-e.left||n.left+a.width()+18<e.left+t.innerWidth())&&d.centerAndZoom(r,i-1),d.removeEventListener("tilesloaded",_)}n&&n.fixMsgZoom&&h.fixAddEventListener(d,"tilesloaded",_)}},{key:"initVisitModeEvent",value:function(){if(!Fai.top._manageMode&&1==this.getType()){var t=$("#module"+this.moduleId).find(".multi_panel"),e=1==this.getBdStyle(),n=this.getMultiAddress(),o=this;t.off("click.panel",".multi__item"),e&&t.on("click.panel",".multi__item",function(t){var e=$(this).attr("index");o.moveToThisPoint(n[parseInt(e)]),$(this).addClass("multi_item__select").siblings(".multi_item__select").removeClass("multi_item__select")})}}},{key:"moveToThisPoint",value:function(t){var e,n,o,i,r=new BMap.Point(t.x,t.y);this.baiduContainerId;(e=this.map).clearOverlays(),n=new BMap.Icon(Fai.top._resRoot+"/image/onlineMap/multi_only.png?v=201809101152",new BMap.Size(22,29),{anchor:new BMap.Size(10,25)}),o=new BMap.Marker(r,{icon:n});var a="";t.an&&(a+='<div class="address_name">'+Fai.encodeHtml(t.an)+"</div>"),t.da&&(a+='<div class="address_detail address_other_word">'+Fai.encodeHtml(t.da)+"</div>"),t.oi&&(a+='<div class="address_other_info address_other_word">'+Fai.encodeHtml(t.oi)+"</div>"),i=new w.ComplexCustomOverlay({point:r,content:'<div class="map_msg_box__msg">'+a+"</div>",boxClass:"map_msg_box",arrowClass:"map_msg_box__arrow",zIndex:1,offset:{x:0,y:-35}}),e.addOverlay(o),e.addOverlay(i),e.panTo(r,{noAnimation:"none"});var s,u,l,c,f=$("#module"+this.moduleId),d=f.find(".multi_panel"),m=f.find(".map_msg_box");d.length<1||m.length<1||(s=m.offset(),u=d.offset(),l=d.width(),0<(c=u.left+l-s.left)&&this.map.panBy(c,0,{noAnimation:"none"}))}},{key:"setZoom",value:function(t,e){var n=e.getViewport(t),o=n.zoom,i=n.center;e.centerAndZoom(i,o)}},{key:"updataGoogleInfo",value:function(t,e,n){try{var o=e||this.getMapInfo(),i=new google.maps.LatLng(t.x,t.y);this.g_infoWin.close(this.googleMap,this.marker),this.g_infoWin=new google.maps.InfoWindow({content:Fai.encodeHtml(o),width:"auto",height:"auto"}),this.g_infoWin.open(this.googleMap,this.marker),this.marker.setPosition(i)}catch(r){}}},{key:"googleMapInitial",value:function(){var t,e,n,o,i,r,a,s=this.googleContainerId,u=document.getElementById(s),l=this.getMapGooglePos(),c=this.getMapInfo(),f=l.x,d=l.y,m=window.google;m&&m.maps&&m.maps.LatLng?(o=new google.maps.LatLng(f,d),i=new google.maps.LatLng(f,d),r={draggable:!0,zoom:l.z,streetViewControl:!1,center:o,scaleControl:!0,mapTypeId:google.maps.MapTypeId.ROADMAP},this.googleMap=t=new google.maps.Map(u,r),a={map:t,position:i,animation:google.maps.Animation.DROP,draggable:!0},this.marker=e=new google.maps.Marker(a),e.setMap(t),this.g_infoWin=n=new google.maps.InfoWindow({content:Fai.encodeHtml(c),width:"auto",height:"auto"}),n.open(t,e),this.initGoogleMapEvent($(u))):Root.Message.warning("当前谷歌地图在中国区已经被屏蔽",!0)}},{key:"doGoogleSearch",value:function(t,e){var o=this.googleMap,i=this.marker,n=(i.getPosition(),o.getCenter(),e.p),r=e.a,a=new google.maps.Geocoder,s=n+r;a.geocode({address:s},function(t,e){if(e==google.maps.GeocoderStatus.OK){var n=(t=t[0]).geometry.viewport;o.fitBounds(n),i.setPosition(t.geometry.location),i.setTitle(r)}})}},{key:"centerPoint",value:function(){var t=this.conf.mapPos,e=new BMap.Point(t.x,t.y);this.map.centerAndZoom(e,t.z)}},{key:"initMapEvent",value:function(e,t,n,o,i){var r=this;Fai.top._manageMode&&t.on("mousedown",function(t){t.stopPropagation()}),r.fixAddEventListener(e,"click",function(t){t.overlay&&r.fixAddEventListener(t.overlay,"infowindowopen",function(t){e.removeOverlay(i)})})}},{key:"initGoogleMapEvent",value:function(t){Fai.top._manageMode&&t.on("mousedown",function(t){t.stopPropagation()})}},{key:"loadMapFailure",value:function(t,e){var n="<div class='mapLoadError'><div class='errormsg'>地图加载失败</div><div class='errName'>"+e+"</div></div>";$("#"+t).html(n)}},{key:"addComplexCustomOverlay",value:function(){var o=this;function t(t){this.point=t.point,this.content=t.content||"",this.zIndex=t.zIndex||1,this.boxClass=t.boxClass||"",this.boxStyle=n(t.boxStyle),this.arrowClass=t.arrowClass||"",this.arrowStyle=n(t.arrowStyle),this.offset=t.offset||{x:0,y:0}}function e(t){if(t.map)try{var e=t.map.pointToOverlayPixel(t.point);t.box.style.left=e.x-parseInt($(t.box).width())/2-(parseInt(i(t.box,"padding-left"))+parseInt(i(t.box,"padding-right")))/2+t.offset.x+"px",t.box.style.bottom=-e.y+parseInt(i(t.arrow,"height"))-t.offset.y+"px",t.arrow.style.left=parseInt($(t.box).width())/2+10+"px"}catch(n){}}function i(t,e){if("undefined"!=typeof getComputedStyle){var n=getComputedStyle(t,null).getPropertyValue(e);return"opacity"==e?100*n:n}if("undefined"!=typeof t.currentStyle)return"opacity"==e?Number(t.currentStyle.getAttribute("filter").match(/(?:opacity[=:])(\d+)/)[1]):t.currentStyle.getAttribute(e)}function n(t){var e="";if("string"==typeof t)e=t;else if("object"==r(t))for(var n in t)e+=n+":"+t[n]+";";return e}return(t.prototype=new BMap.Overlay).initialize=function(t){return this.map=t,this.box=document.createElement("div"),this.box.className=this.boxClass,this.box.style.cssText=this.boxStyle,this.box.innerHTML=this.content,this.close=document.createElement("div"),this.close.className="close",this.arrow=document.createElement("div"),this.arrow.className=this.arrowClass,this.arrow.style.cssText=this.arrowStyle,this.box.appendChild(this.arrow),this.box.appendChild(this.close),t.getPanes().labelPane.appendChild(this.box),this.boxWidth=i(this.box,"width"),this.initDefaultEvent(t),this.box},t.prototype.addEventListener=function(t,e){o.fixAddEventListener(this.box,t,e)},t.prototype.initDefaultEvent=function(e){var n=this;o.fixAddEventListener(this,"mousedown",function(t){t.stopPropagation()}),o.fixAddEventListener(this,"click",function(t){t.stopPropagation()}),o.fixAddEventListener(this,"touchmove",function(t){t.stopPropagation()}),o.fixAddEventListener(this,"touchstart",function(t){-1!=t.target.getAttribute("class").indexOf("close")&&e.removeOverlay(n)}),o.fixAddEventListener(this,"mousedown",function(t){-1!=t.target.getAttribute("class").indexOf("close")&&e.removeOverlay(n)})},t.prototype.draw=function(){e(this)},t.prototype.hide=function(){this.box.style.display="none"},t.prototype.reDraw=function(){e(this)},t}},{key:"fixAddEventListener",value:function(t,e,n){t.addEventListener?t.addEventListener(e,n):t.attachEvent&&t.attachEvent(e,n)}}]),w}()},133:function(t,e,n){function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function r(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function n(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var u=n(4),l=n(65);t.exports=function(){function t(){return function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),r(this,a(t).apply(this,arguments))}return function n(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(t,u),function o(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}(t,[{key:"init",value:function(){l.init(this.moduleId)}}]),t}()},134:function(t,e,n){function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function r(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function n(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var u=n(4),l=n(65);t.exports=function(){function t(){return function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),r(this,a(t).apply(this,arguments))}return function n(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(t,u),function o(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}(t,[{key:"init",value:function(){l.init(this.moduleId)}}]),t}()},135:function(t,e,n){function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function r(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function n(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var u,l,c,f,d,m,h=n(4),p=function(){function t(){return function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),r(this,a(t).apply(this,arguments))}return function n(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(t,h),function o(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}(t,[{key:"init",value:function(){var s=this;Fai.top._manageMode?$(function(){return Site.setModuleHeight2(s.moduleId,s.$module.height())}):Site.setModuleHeight2(this.moduleId,this.$module.height());var u=this.$module.find(".title_list"),l=this.$module.find(".tab_list"),t="click.changeTab";u.off(t).on(t,".item",function(t){var e=u.find(".item"),n=l.find(".item"),o=$(t.currentTarget),i=e.filter(".formTabButtonHover"),r=n.filter(".formTabCntIdHover"),a=n.eq(e.index(o));o.hasClass("formTabButtonHover")||(s.removeActiveClass(i,r),s.addActiveClass(o,a),jzModule.NewsListModule.compatDot(a),s.pauseVideo(r),s.triggerTabLazyload(a),s.triggerModuleAnimation(),s.triggerScroll(),s.resetXPackModuleAutoHeight(),s.isCustomHeight()&&(s.setCustomHeight(),Site.fixSiteWidth(Fai.top._manageMode),Fai.top._manageMode&&(Site.removeMoveFrame("module"+s.moduleId),Site.addMoveFrame("module"+s.moduleId),Site.refreshResizableHandles($("#module"+s.moduleId)))))});var e="mouseenter.changeTab";u.off(e).on(e,".item",function(t){s.getTabSwitchWay()||$(t.currentTarget).click()}),this.initGroupPageArrow()}},{key:"isDirectionY",value:function(){return this.getFlag(4)}},{key:"getTabSwitchWay",value:function(){return this.getFlag(8)}},{key:"isCustomHeight",value:function(){return this.getFlag(16)}},{key:"getGroupPageArrow",value:function(){return this.pattern.gpa}},{key:"setCustomHeight",value:function(){var t=this.$module,e=t.find(".formMiddle"),n=t.find(".formMiddleContent"),o=t.find(".formTab"),i=t.find(".formTabContent"),r=t.find(".formTabCntId");t.css("height","auto"),e.css("height",""),n.css("height",""),this.isDirectionY()?o.css("height",i.height()):o.css("height",""),i.css("height",""),r.css("height","")}},{key:"setTabPackContentHeight",value:function(){this.$module.find(".formTabCntId").each(function(){var t=$(this).find(".J_tabPackContent"),e=Site.getModuleAutoHeight(t);t.height(e)})}},{key:"initGroupPageArrow",value:function(){if(this.isDirectionY()&&1==this.getGroupPageArrow().y){var t=this.getGroupPageArrow().bc;jzModule.TabModule.tabDirectionY.initArrowIfNotEnough(this.moduleId,t)}}},{key:"pauseVideo",value:function(t){for(var e=0,n=Array.from(t.find("video:not([autoplay])"));e<n.length;e++)video=n[e],video.paused||video.pause()}},{key:"triggerTabLazyload",value:function(t){var e=t.find("img, video");Site.triggerGobalEvent("site_triggerImgLoad",e)}},{key:"triggerModuleAnimation",value:function(){jzUtils.run({name:"moduleAnimation.publish",base:Fai.top.Site}),jzUtils.run({name:"moduleAnimation.contentAnimationPublish",base:Fai.top.Site})}},{key:"triggerScroll",value:function(){jzUtils.run({name:"triggerScroll",base:Fai.top.Site})}},{key:"addActiveClass",value:function(t,e){t.addClass("formTabButtonHover"),t.find(".formTabLeft").addClass("formTabLeftHover"),t.find(".formTabMiddle").addClass("formTabMiddleHover"),t.find(".formTabRight").addClass("formTabRightHover"),e.addClass("formTabCntIdHover")}},{key:"removeActiveClass",value:function(t,e){t.removeClass("formTabButtonHover"),t.find(".formTabLeft").removeClass("formTabLeftHover"),t.find(".formTabMiddle").removeClass("formTabMiddleHover"),t.find(".formTabRight").removeClass("formTabRightHover"),e.removeClass("formTabCntIdHover")}}],[{key:"isCustomHeight",value:function(t){t instanceof jQuery&&(t=t.attr("_moduleid"));var e=h.find(t);if(e&&e.isCustomHeight)return e.isCustomHeight()}},{key:"setCustomHeight",value:function(t){t instanceof jQuery&&(t=t.attr("_moduleid"));var e=h.find(t);if(e&&e.setCustomHeight)return e.setCustomHeight()}},{key:"setTabPackContentHeight",value:function(t){var e=t.attr("_moduleid"),n=h.find(e);if(n&&n.setTabPackContentHeight)return n.setTabPackContentHeight()}},{key:"isTabYModule",value:function(t){var e=t.attr("_moduleid"),n=h.find(e);if(n&&n.isDirectionY)return n.isDirectionY()}}]),t}();t.exports=p,u=jQuery,l=p.tabDirectionY||(p.tabDirectionY={data:{},dom:{},utils:{},event:{}}),c=l.data,f=l.dom,d=l.utils,m=l.event,d.getBaseDom=function(){var t,e,n,o=c.moduleId;if((t=Fai.top.$("#module"+o)).length&&!t.hasClass("jz-moduleTabYPattern113")&&p.isTabYModule(t)&&(n=(e=t.find(".formTabButtonYList")).find(".formTabButton"),e.length&&n.length))return{module:t,formTabButtonYList:e,formTabButton:n}},d.getAllFormTabButtonHeight=function(){var t=f.formTabButton,e=0;return t.each(function(){e+=u(this).outerHeight(!0)}),e},d.checkHeightEnough=function(){var t=c.wrapperHeight,e=c.allFormTabButtonHeight,n=c.formTabButtonLength;return e<t||n<2},d.getOnePageNumForFormTabButton=function(){var t,e=c.wrapperHeight,n=c.arrowHeight,o=c.formTabButtonHeight;return t=(t=e-c.formTabButtonHoverHeight-n)<0?0:t,Math.round(t/o)+1},d.getPageNum=function(){return Math.ceil(c.formTabButtonLength/c.onePageNumForFormTabButton)},m.findOrCreateArrow=function(){var t,e=f.formTabButtonYList,n=c.bgColor;return(t=(t=e.find(".J_tabYArrow")).length?t:u(function o(){var t=[];return t.push("<div class='fk-tabYArrow J_tabYArrow'>"),t.push("<div class='f-arrowBox'>"),t.push("<div class='f-arrowBoxTop f-arrowBoxItem J_tabYArrowUp' style='display:none;'>"),t.push("<i class='f-arrow1 f-arrow J_arrowColor'></i>"),t.push("<i class='f-arrow2 f-arrow J_arrowTopBg'></i>"),t.push("</div>"),t.push("<div class='f-arrowBoxBottom f-arrowBoxItem J_tabYArrowDown f-arrowBoxBottomIndex'>"),t.push("<i class='f-arrow1 f-arrow J_arrowColor'></i>"),t.push("<i class='f-arrow2 f-arrow J_arrowBotomBg'></i>"),t.push("</div>"),t.push("</div>"),t.push("</div>"),t.join("")}()).appendTo(e)).css("background-color",n),t.find(".J_arrowTopBg").css("border-bottom-color",n),t.find(".J_arrowBotomBg").css("border-top-color",n),t},m.setModuleNewHeight=function(){var t=c.onePageNumForFormTabButton,e=c.formTabButtonHeight,n=c.arrowHeight,o=c.moduleId,i=c.formTabButtonHoverHeight,r=(f.formTabButtonYList,(t-1)*e+i),a=r+n;return f.arrow.css("top",r),Site.setModuleHeight2(o,a),a},m.setPages=function(){for(var t=c.pageNum,e=c.onePageNumForFormTabButton,n=f.formTabButtonYList,o=f.formTabButton,i=0;i<t;i++)for(var r=e*i,a=e*(i+1);r<a;r++)o.eq(r).addClass("tabYPage"+i).data("tabYPage",i);o.hide(),n.find(".tabYPage0").show()},m.bindArrow=function(){var t=c.pageNum,e=f.arrow,n=f.formTabButton,o=f.formTabButtonYList,i=0,r=e.find(".J_tabYArrowUp"),a=e.find(".J_tabYArrowDown");function s(){0==i?r.find(".J_arrowColor").addClass("f-arrowDisable"):r.find(".J_arrowColor").removeClass("f-arrowDisable"),i==t-1?a.find(".J_arrowColor").addClass("f-arrowDisable"):a.find(".J_arrowColor").removeClass("f-arrowDisable")}r.off("click.page").on("click.page",function(){0!=i&&(i--,s(),n.hide(),o.find(".tabYPage"+i).show().eq(0).click())}),a.off("click.page").on("click.page",function(){i!=t-1&&(i++,s(),n.hide(),o.find(".tabYPage"+i).show().eq(0).click())}),a.one("click.pageOne",function(){a.removeClass("f-arrowBoxBottomIndex"),r.show(),s()})},m.resetDataAndDom=function(){for(var t in c)delete c[t];for(var e in f)delete f[e]},l.initArrowIfNotEnough=function(t,e){return c.moduleId=t,f=u.extend(f,d.getBaseDom()),u.isEmptyObject(f)?m.resetDataAndDom():(c.wrapperHeight=f.module.height(),c.formTabButtonHeight=f.formTabButton.not(".formTabButtonHover").outerHeight(!0),c.formTabButtonLength=f.formTabButton.length,c.allFormTabButtonHeight=d.getAllFormTabButtonHeight(),d.checkHeightEnough()?m.resetDataAndDom():(c.bgColor=e||"#fff",f.arrow=m.findOrCreateArrow(),c.arrowHeight=f.arrow.height(),c.formTabButtonHoverHeight=f.formTabButtonYList.find(".formTabButtonHover").outerHeight(!0),c.onePageNumForFormTabButton=d.getOnePageNumForFormTabButton(),c.pageNum=d.getPageNum(),c.wrapperHeight=m.setModuleNewHeight(),d.checkHeightEnough()?(f.arrow=f.arrow||m.findOrCreateArrow(),f.arrow.remove()):(m.setPages(),m.bindArrow()),void m.resetDataAndDom()))}},136:function(t,e,n){function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function r(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function n(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var u,l,c,f,d,m,h=n(4),p=n(137),g=function(){function t(){return function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),r(this,a(t).apply(this,arguments))}return function n(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(t,h),function o(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}(t,[{key:"init",value:function(){var t=this;if(Fai.top._manageMode?setTimeout(function(){$(function(){return Site.setModuleHeight2(t.moduleId,t.$module.height())})},100):Site.setModuleHeight2(this.moduleId,this.$module.height()),!Fai.top._manageMode)switch(this.getStyle()){case 0:this.initDefaultTab();break;case 1:this.initFoldTab();break;case 2:this.initPictureTab()}}},{key:"initFoldTab",value:function(){var a=this,s=this,u=this.$module.find(".m_foldtab"),t="click.changeTab";function l(t,e){var n=t.find(".tab_content");t.removeClass("tab_active"),n.is(":animated")||n.css("height","auto"),n.stop().animate({height:0},{speed:300,step:function(){e||s.resetXPackModuleAutoHeight()},complete:function(){n.css("height",""),s.pauseVideo(n)}})}u.off(t).on(t,".tab_title",function(t){var e=u.find(".tab_item").filter(".tab_active"),n=$(t.currentTarget).parent(),o=n.hasClass("tab_active");a.pauseVideo(e),o?l(n):(a.getFoldDisplay()||function i(){u.children(".tab_active").each(function(){l($(this),!0)})}(),function r(t){var e=t.find(".tab_content");t.addClass("tab_active"),e.is(":animated")||e.css("height",0);e.stop().animate({height:e.children().height()},{speed:300,step:function(){s.resetXPackModuleAutoHeight()},complete:function(){e.css("height",""),s.triggerTabLazyload(e),s.triggerModuleAnimation(),s.triggerScroll()}})}(n))})}},{key:"initDefaultTab",value:function(){var s=this,u=this.$module.find(".title_list"),l=this.$module.find(".tab_list"),t="click.changeTab";u.off(t).on(t,".item",function(t){var e=u.find(".item"),n=l.find(".item"),o=$(t.currentTarget),i=e.filter(".formTabButtonHover"),r=n.filter(".formTabCntIdHover"),a=n.eq(e.index(o));o.hasClass("formTabButtonHover")||(s.removeActiveClass(i,r),s.addActiveClass(o,a),jzModule.NewsListModule.compatDot(a),s.pauseVideo(r),s.triggerTabLazyload(a),s.triggerModuleAnimation(),s.triggerScroll(),s.resetXPackModuleAutoHeight(),s.isCustomHeight()&&(s.setCustomHeight(),Site.fixSiteWidth(Fai.top._manageMode),Fai.top._manageMode&&(Site.removeMoveFrame("module"+s.moduleId),Site.addMoveFrame("module"+s.moduleId),Site.refreshResizableHandles($("#module"+s.moduleId)))))});var e="mouseenter.changeTab";u.off(e).on(e,".item",function(t){s.getTabSwitchWay()||$(t.currentTarget).click()})}},{key:"initPictureTab",value:function(){var t=0<arguments.length&&arguments[0]!==undefined?arguments[0]:{},e=this,n=Object.assign({},{event:this.getTabSwitchWay()?"click":"hover",onTabChanged:function(){e.triggerModuleAnimation(),e.triggerScroll()}},t);return new p(this.moduleId,n)}},{key:"getStyle",value:function(){return this.module.prop2}},{key:"isDirectionY",value:function(){return this.getFlag(4)}},{key:"getTabSwitchWay",value:function(){return this.getFlag(8)}},{key:"isCustomHeight",value:function(){return this.getFlag(16)||1==this.getStyle()}},{key:"getFoldDisplay",value:function(){return this.getFlag(32)}},{key:"getGroupPageArrow",value:function(){return this.pattern.gpa}},{key:"setCustomHeight",value:function(){var t=this.$module,e=t.find(".formMiddle"),n=t.find(".formMiddleContent"),o=t.find(".formTab"),i=t.find(".formTabContent"),r=t.find(".formTabCntId"),a=2===this.getStyle();a&&(i=t.find(".J_site_tabs_pane"),r=t.find(".J_tab_pane_item")),t.css("height","auto"),e.css("height",""),n.css("height",""),this.isDirectionY()||a?o.css("height",i.height()):o.css("height",""),i.css("height",""),r.css("height","")}},{key:"setTabPackContentHeight",value:function(){this.$module.find(".J_tabPackContent").each(function(){var t=$(this),e=Site.getModuleAutoHeight(t);t.height(e)})}},{key:"initGroupPageArrow",value:function(){if(this.isDirectionY()){var t=this.getGroupPageArrow().bc;jzModule.TabPackModule.tabDirectionY.initArrowIfNotEnough(this.moduleId,t)}}},{key:"pauseVideo",value:function(t){for(var e=0,n=Array.from(t.find("video:not([autoplay])"));e<n.length;e++)video=n[e],video.paused||video.pause()}},{key:"triggerTabLazyload",value:function(t){var e=t.find("img, video");Site.triggerGobalEvent("site_triggerImgLoad",e)}},{key:"triggerModuleAnimation",value:function(){jzUtils.run({name:"moduleAnimation.publish",base:Fai.top.Site}),jzUtils.run({name:"moduleAnimation.contentAnimationPublish",base:Fai.top.Site})}},{key:"triggerScroll",value:function(){jzUtils.run({name:"triggerScroll",base:Fai.top.Site})}},{key:"addActiveClass",value:function(t,e){t.addClass("formTabButtonHover"),t.find(".formTabLeft").addClass("formTabLeftHover"),t.find(".formTabMiddle").addClass("formTabMiddleHover"),t.find(".formTabRight").addClass("formTabRightHover"),e.addClass("formTabCntIdHover")}},{key:"removeActiveClass",value:function(t,e){t.removeClass("formTabButtonHover"),t.find(".formTabLeft").removeClass("formTabLeftHover"),t.find(".formTabMiddle").removeClass("formTabMiddleHover"),t.find(".formTabRight").removeClass("formTabRightHover"),e.removeClass("formTabCntIdHover")}}],[{key:"isCustomHeight",value:function(t){t instanceof jQuery&&(t=t.attr("_moduleid"));var e=h.find(t);if(e&&e.isCustomHeight)return e.isCustomHeight()}},{key:"setCustomHeight",value:function(t){t instanceof jQuery&&(t=t.attr("_moduleid"));var e=h.find(t);if(e&&e.setCustomHeight)return e.setCustomHeight()}},{key:"setTabPackContentHeight",value:function(t){var e=t.attr("_moduleid"),n=h.find(e);if(n&&n.setTabPackContentHeight)return n.setTabPackContentHeight()}},{key:"isTabYModule",value:function(t){var e=t.attr("_moduleid"),n=h.find(e);if(n&&n.isDirectionY)return n.isDirectionY()}}]),t}();t.exports=g,u=jQuery,l=g.tabDirectionY||(g.tabDirectionY={data:{},dom:{},utils:{},event:{}}),c=l.data,f=l.dom,d=l.utils,m=l.event,d.getBaseDom=function(){var t,e,n,o=c.moduleId;if((t=Fai.top.$("#module"+o)).length&&!t.hasClass("jz-moduleTabYPattern113")&&g.isTabYModule(t)&&(n=(e=t.find(".formTabButtonYList")).find(".formTabButton"),e.length&&n.length))return{module:t,formTabButtonYList:e,formTabButton:n}},d.getAllFormTabButtonHeight=function(){var t=f.formTabButton,e=0;return t.each(function(){e+=u(this).outerHeight(!0)}),e},d.checkHeightEnough=function(){var t=c.wrapperHeight,e=c.allFormTabButtonHeight,n=c.formTabButtonLength;return e<t||n<2},d.getOnePageNumForFormTabButton=function(){var t,e=c.wrapperHeight,n=c.arrowHeight,o=c.formTabButtonHeight;return t=(t=e-c.formTabButtonHoverHeight-n)<0?0:t,Math.round(t/o)+1},d.getPageNum=function(){return Math.ceil(c.formTabButtonLength/c.onePageNumForFormTabButton)},m.findOrCreateArrow=function(){var t,e=f.formTabButtonYList,n=c.bgColor;return(t=(t=e.find(".J_tabYArrow")).length?t:u(function o(){var t=[];return t.push("<div class='fk-tabYArrow J_tabYArrow'>"),t.push("<div class='f-arrowBox'>"),t.push("<div class='f-arrowBoxTop f-arrowBoxItem J_tabYArrowUp' style='display:none;'>"),t.push("<i class='f-arrow1 f-arrow J_arrowColor'></i>"),t.push("<i class='f-arrow2 f-arrow J_arrowTopBg'></i>"),t.push("</div>"),t.push("<div class='f-arrowBoxBottom f-arrowBoxItem J_tabYArrowDown f-arrowBoxBottomIndex'>"),t.push("<i class='f-arrow1 f-arrow J_arrowColor'></i>"),t.push("<i class='f-arrow2 f-arrow J_arrowBotomBg'></i>"),t.push("</div>"),t.push("</div>"),t.push("</div>"),t.join("")}()).appendTo(e)).css("background-color",n),t.find(".J_arrowTopBg").css("border-bottom-color",n),t.find(".J_arrowBotomBg").css("border-top-color",n),t},m.setModuleNewHeight=function(){var t=c.onePageNumForFormTabButton,e=c.formTabButtonHeight,n=c.arrowHeight,o=c.moduleId,i=c.formTabButtonHoverHeight,r=(f.formTabButtonYList,(t-1)*e+i),a=r+n;return f.arrow.css("top",r),Site.setModuleHeight2(o,a),a},m.setPages=function(){for(var t=c.pageNum,e=c.onePageNumForFormTabButton,n=f.formTabButtonYList,o=f.formTabButton,i=0;i<t;i++)for(var r=e*i,a=e*(i+1);r<a;r++)o.eq(r).addClass("tabYPage"+i).data("tabYPage",i);o.hide(),n.find(".tabYPage0").show()},m.bindArrow=function(){var t=c.pageNum,e=f.arrow,n=f.formTabButton,o=f.formTabButtonYList,i=0,r=e.find(".J_tabYArrowUp"),a=e.find(".J_tabYArrowDown");function s(){0==i?r.find(".J_arrowColor").addClass("f-arrowDisable"):r.find(".J_arrowColor").removeClass("f-arrowDisable"),i==t-1?a.find(".J_arrowColor").addClass("f-arrowDisable"):a.find(".J_arrowColor").removeClass("f-arrowDisable")}r.off("click.page").on("click.page",function(){0!=i&&(i--,s(),n.hide(),o.find(".tabYPage"+i).show().eq(0).click())}),a.off("click.page").on("click.page",function(){i!=t-1&&(i++,s(),n.hide(),o.find(".tabYPage"+i).show().eq(0).click())}),a.one("click.pageOne",function(){a.removeClass("f-arrowBoxBottomIndex"),r.show(),s()})},m.resetDataAndDom=function(){for(var t in c)delete c[t];for(var e in f)delete f[e]},l.initArrowIfNotEnough=function(t,e){return c.moduleId=t,f=u.extend(f,d.getBaseDom()),u.isEmptyObject(f)?m.resetDataAndDom():(c.wrapperHeight=f.module.height(),c.formTabButtonHeight=f.formTabButton.not(".formTabButtonHover").outerHeight(!0),c.formTabButtonLength=f.formTabButton.length,c.allFormTabButtonHeight=d.getAllFormTabButtonHeight(),d.checkHeightEnough()?m.resetDataAndDom():(c.bgColor=e||"#fff",f.arrow=m.findOrCreateArrow(),c.arrowHeight=f.arrow.height(),c.formTabButtonHoverHeight=f.formTabButtonYList.find(".formTabButtonHover").outerHeight(!0),c.onePageNumForFormTabButton=d.getOnePageNumForFormTabButton(),c.pageNum=d.getPageNum(),c.wrapperHeight=m.setModuleNewHeight(),d.checkHeightEnough()?(f.arrow=f.arrow||m.findOrCreateArrow(),f.arrow.remove()):(m.setPages(),m.bindArrow()),void m.resetDataAndDom()))}},137:function(t,e,n){function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function a(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function n(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function s(t,e,n){return(s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function r(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=u(t)););return t}(t,e);if(o){var i=Object.getOwnPropertyDescriptor(o,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=n(138).SiteTabs,i=function(){function i(t,e){var n;return function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(n=a(this,u(i).call(this,t,e))).isVerticalTab=!1,n.init(),n}return function n(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(i,c),function o(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}(i,[{key:"init",value:function(){this.updateTabDirection()}},{key:"updateTabDirection",value:function(){var t=Fai.top.$("#module".concat(this.moduleId," .J_site_tabs_nav")).css("float");this.isVerticalTab=-1!==["left","right"].indexOf(t),this.addTabDirectionClass()}},{key:"addTabDirectionClass",value:function(){var t=this.isVerticalTab?"vertical":"horizonal";Fai.top.$("#module".concat(this.moduleId," .J_site_tabs_nav")).removeClass("jz_tabs_direction--vertical jz_tabs_direction--horizonal").addClass("jz_tabs_direction--".concat(t))}},{key:"update",value:function(t){s(u(i.prototype),"update",this).call(this,t),this.updateTabDirection()}}]),i}();t.exports=i},138:function(t,e){function r(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var n=function(){function o(t){var e=1<arguments.length&&arguments[1]!==undefined?arguments[1]:{};!function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),this.moduleId=t,this.$module=Fai.top.$("#module".concat(t)),this._config=e,this._cache={},this._init()}return function i(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}(o,[{key:"setConfig",value:function(){var e=this,n=0<arguments.length&&arguments[0]!==undefined?arguments[0]:{};Object.keys(n).forEach(function(t){e._config[t]=n[t]})}},{key:"setCache",value:function(t,e){return this._cache[t]=e}},{key:"getCache",value:function(t){return this._cache[t]?this._cache[t]:null}},{key:"_init",value:function(){this.selectTabByIndex(this.config.initialIndex),this._bindEvents()}},{key:"_bindEvents",value:function(){var t=this.getTabInfo().$tabNav;switch(this.config.event){case"click":this.bindClickEvent(t);break;case"hover":this.bindHoverEvent(t);break;default:this.bindClickEvent(t)}t.removeClass("tab_nav_event--hover tab_nav_event--click").addClass("tab_nav_event--".concat(this.config.event))}},{key:"bindClickEvent",value:function(t){var e=this,n="click.changeTab";t.off(n).on(n,".J_tab_nav_item",function(t){e.selectTabByIndex($(t.currentTarget).index())})}},{key:"bindHoverEvent",value:function(t){var e=this,n="mouseenter.changeTab";t.off(n).on(n,".J_tab_nav_item",function(t){e.selectTabByIndex($(t.currentTarget).index())})}},{key:"_unbindEvents",value:function(){this.getTabInfo().$tabNav.off("click.changeTab").off("mouseenter.changeTab")}},{key:"update",value:function(){var t=0<arguments.length&&arguments[0]!==undefined?arguments[0]:{};this.setConfig(t),this._unbindEvents(),this._init()}},{key:"selectTabByIndex",value:function(){var t=0<arguments.length&&arguments[0]!==undefined?arguments[0]:0,e=this.getTabInfo(),n=e.$tabNavItems,o=e.$tabPaneItems;this.handleChangeTab(n,o,t)}},{key:"getTabInfo",value:function(){var t=this.getCache("$tabNav")?this.getCache("$tabNav"):this.setCache("$tabNav",this.$module.find(".J_site_tabs_nav").eq(0)),e=this.getCache("$tabPane")?this.getCache("$tabPane"):this.setCache("$tabPane",this.$module.find(".J_site_tabs_pane").eq(0));return{$tabNav:t,$tabPane:e,$tabNavItems:t.find(".J_tab_nav_item"),$tabPaneItems:e.find(".J_tab_pane_item")}}},{key:"handleChangeTab",value:function(t,e,n){this.toggleActive(t,e,n),"function"==typeof this.config.onTabChanged&&this.config.onTabChanged.call(this)}},{key:"toggleActive",value:function(t,e,n){var o="".concat(this.config.navItemActiveClass," J_tab_nav_item--active"),i="".concat(this.config.paneItemActiveClass," J_tab_pane_item--active");e.removeClass(i).eq(n).addClass(i),t.removeClass(o).eq(n).addClass(o)}},{key:"config",get:function(){return Object.assign({},this.defaultConfig,this._config)}},{key:"defaultConfig",get:function(){return{navItemActiveClass:"tab_nav_item--active",paneItemActiveClass:"tab_pane_item--active",event:"click",initialIndex:0}}}]),o}();t.exports={SiteTabs:n}},139:function(t,e,n){function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function r(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function n(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var u=n(4);t.exports=function(){function t(){return function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),r(this,a(t).apply(this,arguments))}return function n(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(t,u),function o(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}(t,[{key:"init",value:function(){this.lock=!1,this.editPanelLock=!1,this.carouselLock=!1,this.scrollTarget=null,this.scrollCount=0,this.newsSetting=this.module.blob0,this.speedList=[1500,1100,850],this.newsPattern=this.module.pattern.vnl2,this.contentAnimationCount=0,this.haveAnimation=!1,this.initEvent()}},{key:"initEvent",value:function(){var t=this;4==this.newsSetting.selectStyle&&(this.bindSliderEvent(),this.bindArrowEvent()),this.bindNewsWrapEvent(),$(window).on("load",function(){t.haveContentAnimate(),t.newsScroll()})}},{key:"isCanScroll",value:function(){var t=this.newsSetting.selectStyle,e=this.newsSetting.headlineStyle;return!!this.module.openScroll&&(3!=t&&4!=t&&(6!=t||0==e))}},{key:"bindSliderEvent",value:function(){var s=this;this.$el.find(".m_news_wrap").on("mouseleave",function(t){4==s.newsSetting.selectStyle&&$(".slider_arrow").removeClass("slider_arrow")}),this.$el.find(".m_news_wrap").on("mouseover",function(t){if(4==s.newsSetting.selectStyle){var e=s.$el.find(".m_news_4"),n=s.$el.find(".m_news_4 .m_news_list");if(!(e.width()>=n.width())){var o=$(t.target),i=o.hasClass("m_news_area"),r=o.parent().hasClass("m_news_area"),a=o.parents(".m_news_area");i?o.addClass("slider_arrow"):r?o.parent().addClass("slider_arrow"):a.length&&a.addClass("slider_arrow")}}})}},{key:"bindArrowEvent",value:function(){var e=this;this.$el.find(".m_news_arrow").on("click",function(t){if(t.stopPropagation(),4==e.newsSetting.selectStyle){$(t.target);e.carousel($(this))}})}},{key:"carousel",value:function(t){if(!this.carouselLock){var e=this;this.carouselLock=!0;var n=t.hasClass("news_left_arrow")?1:0,o=this.$el.find(".m_news_4").width(),i=this.$el.find(".m_col_line").outerWidth(!0),r=this.$el.find(".m_news_4 .m_news_list"),a=r.width(),s=parseInt(r.css("left"));n||(o=0-o,i=0-i);var u=s+o+i;n&&0==s||Math.abs(u)>=a?this.carouselLock=!1:(0<u?u=0:Math.abs(o)+Math.abs(u)>a&&(u=-(a-Math.abs(o))),r.animate({left:"".concat(u,"px")},800,function(){e.carouselLock=!1}))}}},{key:"bindNewsWrapEvent",value:function(){var e=this;this.$el.on("mouseover.lock",function(t){$(t.target).parents("#module".concat(e.options.id)).length&&(e.lock=!0)}).on("mouseleave.unlock",function(){e.lock=!1,clearTimeout(e.timer),e.timer=setTimeout(function(){e.scrollCount||e.newsScroll()},1e3)})}},{key:"haveContentAnimate",value:function(){var e=this;if("undefined"==typeof _moduleListForContent)return!1;this.haveAnimation=_moduleListForContent.some(function(t){return t.moduleId==e.moduleId})}},{key:"newsScroll",value:function(){this.lock||this.editPanelLock||!this.isCanScroll()||this.haveAnimation||(this.scrollCount=!0,this.newsSetting.colCount?this.mutiScroll():this.singleScroll())}},{key:"singleScroll",value:function(){if(this.scrollTarget=this.$el.find(".m_news_list"),this.newsSetting.scrollDir){var t=this.scrollTarget.find(".m_news_content:last"),e=t.prev(),n=e.find(".m_row_line"),o=t.outerHeight(!0);2!==this.newsSetting.selectStyle&&(o+=n.outerHeight(!0)),this.newsAnimate(o,t,e)}else{var i=this.scrollTarget.find(".m_news_content:first"),r=i.next(),a=r.find(".m_row_line"),s=i.outerHeight(!0)+a.outerHeight(!0);this.newsAnimate(-s,i,r)}}},{key:"mutiScroll",value:function(){if(this.scrollTarget=this.$el.find(".m_news_wrap"),this.newsSetting.scrollDir){var t=this.scrollTarget.find(".m_row_class:last"),e=t.outerHeight(!0);this.newsAnimate(e,t)}else{var n=this.scrollTarget.find(".m_row_class:first"),o=n.nextAll(".m_row_class").find(".m_row_line"),i=n.outerHeight(!0)+o.outerHeight(!0);this.newsAnimate(-i,n)}}},{key:"newsAnimate",value:function(n,t,e){var o=this;new Promise(function(t,e){o.scrollTarget.animate({top:n+"px"},o.speedList[o.newsSetting.scrollSpeed],function(){t()})}).then(function(){t.hide(),o.scrollTarget.css("top",0),o.newsSetting.colCount||(o.newsSetting.scrollDir?e.prependTo(o.scrollTarget):e.appendTo(o.scrollTarget)),o.newsSetting.scrollDir?t.prependTo(o.scrollTarget):t.appendTo(o.scrollTarget),t.fadeIn(function(){o.setTimeoutScroll()})})}},{key:"setTimeoutScroll",value:function(){this.scrollCount=!1,this.newsScroll()}},{key:"start",value:function(){var t=this;return function(){4==t.newsSetting.selectStyle&&(t.bindSliderEvent(),t.bindArrowEvent()),t.lock=!1,setTimeout(function(){t.scrollCount||t.newsScroll()},1e3)}}},{key:"preventScroll",value:function(){this.editPanelLock=!0}},{key:"restartScroll",value:function(){this.editPanelLock=!1,this.start()()}},{key:"createQuestion",value:function(t){Site.popupBox({htmlContent:this.createHtml(),width:530,height:450,extClass:"goBackQuestion",paddingBottom:0,boxId:1211}),this.initQuestEvent(t)}},{key:"createHtml",value:function(){return'\n\t\t\t<div class="question_title">希望您有更好的体验，真诚得需要您的建议！</div>\n\t\t\t<div class="question_content">\n\t\t\t\t<div class="question_radio">\n\t\t\t\t\t<p class="reason">切回旧版的原因？</p>\n\t\t\t\t\t<div class="radio_list">\n\t\t\t\t\t\t<div class="radio_item">\n\t\t\t\t\t\t\t<i class="radio radio_active" data-log="7"></i>\n\t\t\t\t\t\t\t<span class="radio_text">再观察观察</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="radio_item">\n\t\t\t\t\t\t\t<i class="radio" data-log="8"></i>\n\t\t\t\t\t\t\t<span class="radio_text">影响到网站布局</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="radio_item">\n\t\t\t\t\t\t\t<i class="radio" data-log="9"></i>\n\t\t\t\t\t\t\t<span class="radio_text">展示效果没什么区别</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="radio_item">\n\t\t\t\t\t\t\t<i class="radio radio_input" data-log="4"></i>\n\t\t\t\t\t\t\t<span class="radio_text">其他</span>\n\t\t\t\t\t\t\t<input class="input">\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\t\n\t\t\t\t</div>\n\t\t\t\t<button class="comfirm">确定</button>\t\n\t\t\t</div>\n\t\t'}},{key:"initQuestEvent",value:function(i){var r=this;$(".goBackQuestion .radio").click(function(){$(this).parent().siblings().find(".radio_active").removeClass("radio_active"),$(this).toggleClass("radio_active")}),$(".goBackQuestion .comfirm").click(function(t){$(".goBackQuestion .radio_active").each(function(t,e){var n=parseInt($(e).attr("data-log"));if($(e).hasClass("radio_input")){var o=$(".goBackQuestion .input").val();if(100<o.length||!o.length)return void Fai.ing("提交的文字不可超过100个或少于1个。",1e3);$.ajax({type:"get",url:Site.genAjaxUrl("feedback_h.jsp?cmd=addNewsListBackReason"),data:{reason:encodeURIComponent(o)},success:function(t){(t=$.parseJSON(t)).success&&($("#popupBg1211").remove(),$("#popupBox1211").remove(),jzModule.ManageModule.find(r.moduleId).switchModuleVersion(i))}})}else Site.logDog(201220,n),$("#popupBg1211").remove(),$("#popupBox1211").remove(),jzModule.ManageModule.find(r.moduleId).switchModuleVersion(i)})})}}],[{key:"compatDot",value:function(t){t.find(".news_list_wrap").length&&(t.find(".news_list_wrap").addClass("news_list_fix_dot"),setTimeout(function(){t.find(".news_list_wrap").removeClass("news_list_fix_dot")}))}}]),t}()},140:function(t,e,n){function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function r(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function n(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var u=n(4),l=n(66),c=l.supportsIntersectionObserver,f=l.isIntersecting,d=function d(t){return document.querySelector?document.querySelector("#module".concat(t)):document.getElementById("module".concat(t))},m=function m(t){if(t)return t.getBoundingClientRect().height},h=function h(t,e,n){t&&(t.style[e]=n)},p={root:null,rootMargin:"10px 0px",threshold:0},g=function g(t,e){var i=g._observer||(g._observer=new IntersectionObserver(function(t){t.forEach(function(t){if(f(t)){var e=t.target,n=e.getAttribute("_moduleid"),o=g["module".concat(n)];"function"==typeof o&&o(e),delete g["module".concat(n)],i.unobserve(e)}})},p));g["module".concat(t)]=e;var n=d(t);n&&i.observe(n)},v=function(){function t(){return function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),r(this,a(t).apply(this,arguments))}return function n(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(t,u),function o(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}(t,null,[{key:"initSimpleTextLazyLoad",value:function(t){var o=t.moduleId,e=t.writingMode,i=t.fontList,r=t.isExecInitSimpleText,a=t.initSimpleTextData;Fai.top._simpleTextGrayTest&&c()?g(o,function(t){var e=t.querySelector(".simpleText"),n=m(e);40<n&&h(t,"height",n+"px"),r&&Site.initSimpleText(a),Site.checkIEGradientText(o),Site.initFontFaceText(o,i)}):Site.initSimpleTextContent(o,e,t)}}]),t}();t.exports=v},141:function(t,e,n){var o=[n(142)];t.exports={install:function i(){var e=0<arguments.length&&arguments[0]!==undefined?arguments[0]:{};o.forEach(function(t){"function"==typeof t?t(e):t&&"function"==typeof t.install&&t.install(e)})}}},142:function(t,e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}t.exports=function(){var i=0<arguments.length&&arguments[0]!==undefined?arguments[0]:{};i._moduleLoadedCallbacks={},i.onModuleLoaded=function(t,e){if("number"!=typeof t)throw new Error("moduleId类型不为Number: "+n(t));if("function"!=typeof e)throw new Error("callback类型不为Function: "+n(e));this._moduleLoadedCallbacks[t]=e},i._executeModuleLoadedCallback=function(t){var e=this._moduleLoadedCallbacks[t];if("function"==typeof e&&"number"==typeof t){var n=i.SiteModule.find(t),o=i.ManageModule.find(t);e.call(i,n,o),delete this._moduleLoadedCallbacks[t]}}}},143:function(t,e,n){var o=n(144),i=".J_img_lazyLoad",r=null;function a(t){null!==r&&r.observeImages(t)}t.exports={init:function s(){Fai.top._floatImgLazyLoadGrayTest&&(r=new o({selector:i}))},addImgLazyLoad:a,checkLazyLoad:function u(t){null!==r&&t.find(i).each(function(t,e){a(e)})}}},144:function(t,e,n){function r(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var o=n(145),s=o.isSupportWebp,u=o.imgToWebp,i=n(66),a=i.supportsIntersectionObserver,l=i.isIntersecting,c={selector:".J_img_lazyLoad",originalSrcAttr:"src-original",loadedAttr:"data-imgloaded",useWebp:!0,root:null,rootMargin:"100px 0px",threshold:0},f=function f(){return"undefined"!=typeof f._value?f._value:f._value="undefined"!=typeof window},d=function d(t,e){return t.getAttribute(e)},m=function m(t,e,n){null!==n?t.setAttribute(e,n):t.removeAttribute(e)},h=function h(t){return t.tagName.toLowerCase()},p=function p(){var o=0<arguments.length&&arguments[0]!==undefined?arguments[0]:"";return new Promise(function(e,n){var t=document.createElement("img");t.src=o,t.onload=function(t){e(t)},t.onerror=function(t){n(t)}})},g=function(){function o(){var t=0<arguments.length&&arguments[0]!==undefined?arguments[0]:{},e=1<arguments.length&&arguments[1]!==undefined?arguments[1]:null;!function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),f&&(this.settings=Object.assign({},c,t),a()?(this.images=e||document.querySelectorAll(this.settings.selector),this._observer=null,this._init()):this._showAllImage(e))}return function i(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}(o,[{key:"observeImages",value:function(t){var e=this;if(void 0!==t&&!(t instanceof NodeList||t instanceof Node))throw new Error("请传入node或者nodeList");var n=t||this.images,o=n instanceof NodeList?n:[t];Array.from(o).filter(this._filterImages.bind(this)).forEach(function(t){e._observer.observe(t)})}},{key:"_init",value:function(){var t=this.settings,e={root:t.root,rootMargin:t.rootMargin,threshold:t.threshold};this._observer=new IntersectionObserver(this._onIntersection.bind(this),e),this.observeImages()}},{key:"_onIntersection",value:function(t){var i=this,e=this.settings,r=e.originalSrcAttr,a=e.useWebp;t.forEach(function(t){if(l(t)){var e=t.target,n=d(e,r),o=a&&s()?u(n):n;p(o).then(function(){i._changeImage(e,o)})["catch"](function(){i._changeImage(e,n)})}})}},{key:"_changeImage",value:function(t,e){var n=this.settings,o=n.loadedAttr,i=n.animationClass,r=n.placeholderClass,a=n.animationDuration;"img"===h(t)?m(t,"src",e):t.style.backgroundImage="url(".concat(e,")"),o&&m(t,o,"true"),r&&t.classList.remove(r),i&&(t.classList.add(i),setTimeout(function(){t.classList.remove(i)},a)),this._observer&&this._observer.unobserve(t)}},{key:"_showAllImage",value:function(t){var e=this.settings,i=e.originalSrcAttr,n=e.selector,r=e.loadedAttr;$(t||n).each(function(t,e){var n=$(e),o=n.attr(i);n.is("img")?n.attr("src",o):n.css("background-image",o),r&&n.attr(r,"true")})}},{key:"_filterImages",value:function(t){var e=this.settings,n=e.originalSrcAttr,o=e.loadedAttr,i=d(t,n),r="true"!==d(t,o);return i&&r}}]),o}();t.exports=g},145:function(t,e){var n=function n(){if("undefined"!=typeof n._value)return n._value;if(Fai.top._debug)return n._value=!1;var t="image/webp",e=document.createElement("canvas");return e.getContext&&e.getContext("2d")?n._value=0===e.toDataURL(t).indexOf("data:"+t):n._value=!1},o=function o(){var t=0<arguments.length&&arguments[0]!==undefined?arguments[0]:"";return/(\.faiusr\.com)|(\.aaadns\.com)/.test(t)&&(t=t.replace(/(jpg|jpeg|png|gif)$|(jpg|jpeg|png|gif)\?v=/,function(t,e,n){return e?e+".webp":n?t.replace(n,n+".webp"):void 0})),t};t.exports={isSupportWebp:n,imgToWebp:o}},4:function(t,e,n){function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function r(t,e){return(r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var a=n(64),o=function(){function u(t){var e,n;!function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u);for(var o=arguments.length,i=new Array(1<o?o-1:0),r=1;r<o;r++)i[r-1]=arguments[r];return n=function s(t,e){return!e||"object"!==l(e)&&"function"!=typeof e?f(t):e}(this,(e=c(u)).call.apply(e,[this,t].concat(i))),u._instances[t]=f(n),n.initSiteModule(),n.init(),n}return function n(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}(u,a),function o(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}(u,[{key:"init",value:function(){this.isCusModuleClass()&&this.throwError("未定义 init 方法")}},{key:"initSiteModule",value:function(){}},{key:"isCusModuleClass",value:function(){return Object.getPrototypeOf(this).constructor!==u}}],[{key:"find",value:function(t){return u._instances[t]}},{key:"install",value:function(t){var e=t.id;t.style;new(jzModule.getSiteModuleClass(t))(e,t)}}]),u}();o._instances={},t.exports=o},64:function(t,e){function r(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}t.exports=function(){function o(t){var e=1<arguments.length&&arguments[1]!==undefined?arguments[1]:{};!function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),this.options=e,this.moduleId=t,this.$module=$("#module".concat(t)),this.$el=this.$module,this.module=this.options.module||{},this.pattern=this.module.pattern||{}}return function i(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}(o,[{key:"isAutoHeight",value:function(){return 1==parseInt(this.$module.attr("_autoheight"))}},{key:"isVueModule",value:function(){return"true"===this.$module.attr("ssr")}},{key:"checkNestModule",value:function(){return Site.checkNestModule(this.$module)}},{key:"resetXPackModuleAutoHeight",value:function(){Site.resetXPackModuleAutoHeight(this.$module)}},{key:"getModule",value:function(){var t=this.options.module;return t||this.throwError("未在访客态输出模块数据，请在inc文件中过滤并输出"),t}},{key:"getPattern",value:function(){var t=this.getModule().pattern;return t||this.throwError("未在访客态输出 pattern 字段，请在inc文件中过滤并输出"),t}},{key:"throwError",value:function(t){var e=Object.getPrototypeOf(this).constructor.name;throw new Error("".concat(t," [").concat(e,"]"))}},{key:"getAttr",value:function(t){return this.$module.attr(t)}},{key:"getStyle",value:function(){return this.options.style}},{key:"getType",value:function(){return this.options.type}},{key:"addClass",value:function(t){return this.$module.addClass(t),this}},{key:"removeClass",value:function(t){return this.$module.removeClass(t),this}},{key:"getModuleFlag",value:function(){var t=this.getModule().flag;return isNaN(t)&&this.throwError("未在访客态输出 flag 字段，请挂载 flag 字段到模块数据中"),t}},{key:"setModuleFlag",value:function(t){this.getModule().flag=t}},{key:"getFlag",value:function(t){var e=this.getModuleFlag();return this.getBitMemory(e,t)}},{key:"setFlag",value:function(t,e){var n=this.getModuleFlag();n=this.setBitMemory(n,t,e),this.setModuleFlag(n)}},{key:"checkBit",value:function(t,e){return this.getBitMemory(t,e)}},{key:"getBitMemory",value:function(t,e){return(t&e)==e}},{key:"setBitMemory",value:function(t,e,n){return n?t|=e:t&=~e,t}}],[{key:"install",value:function(t){jzModule.SiteModule.install(t),jzModule.ManageModule&&jzModule.ManageModule.install(t),jzModule._executeModuleLoadedCallback(t.id)}}]),o}()},65:function(t,e){function i(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}t.exports=function(){function t(){!function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return function o(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}(t,null,[{key:"init",value:function(t){var e=$("#module"+t).find(".J_unitCustomSearchEntry");e.length<1||e.find(".J_unitCustomSearchEntrySubmit").off("click.submit").on("click.submit",function(){return function o(t){if(!Fai.top.openMsgSearch)return void Fai.ing("请开通查询功能",!0);if(t.removeData("disabled"),t.data("disabled"))return void Fai.ing(LS.js_customSearchNoOpen,!0);var e=[],n=parseInt(t.data("projectId"));if(e.push("id="+n),!function h(t,e){for(var n=[],o=$.makeArray(t.find(".J_unitCustomSearchEntryControl")),i=0;i<o.length;i++){var r=o[i],a=$(r),s=a.data("type"),u=a.data("required"),l=a.data("id"),c=a.data("name"),f="",d=!1;switch(s){case 0:if(!(f=a.find("input").val())){if(u)return Fai.ing(Fai.format(LS.siteFormSubmitInputIsEmpty,Fai.encodeHtml(c)),!1),!1;d=!0}break;case 1:if(!(f=a.find("input:checked").val())){if(u)return Fai.ing(Fai.format(LS.siteFormSubmitInputIsEmpty,Fai.encodeHtml(c)),!1),!1;d=!0}break;case 2:var m=$.makeArray(a.find("input:checked")).map(function(t){return $(t).val()});if(m.length<1){if(u)return Fai.ing(Fai.format(LS.siteFormSubmitInputIsEmpty,Fai.encodeHtml(c)),!1),!1;d=!0}f=m.join("\n");break;case 3:if("none"==(f=a.find("select").val())||!f){if(u)return Fai.ing(Fai.format(LS.siteFormSubmitInputIsEmpty,Fai.encodeHtml(c)),!1),!1;d=!0}}d||n.push({prop:"prop"+l,type:s,value:f})}return e(n),!0}(t,function(t){e.push("condition="+Fai.encodeUrl($.toJSON(t)))}))return;window.location.href="csr.jsp?".concat(e.join("&")),Site.logDog(201006,1)}(e)})}}]),t}()},66:function(t,e){var n=function n(){if("undefined"!=typeof n._value)return n._value;var t=Fai.isIE7()||Fai.isIE8();return n._value="IntersectionObserver"in window&&!t},o=function o(t){return t.isIntersecting||0<t.intersectionRatio};t.exports={supportsIntersectionObserver:n,isIntersecting:o}}},i.c=o,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(n,o,function(t){return e[t]}.bind(null,o));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=127);function i(t){if(o[t])return o[t].exports;var e=o[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,i),e.l=!0,e.exports}var n,o});